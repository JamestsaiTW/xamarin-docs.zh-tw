---
title: 應用程式使用者介面當地語系化
description: 本文件說明的國際化與當地語系化的跨平台概念，並探討它們如何影響應用程式的設計。
ms.prod: xamarin
ms.assetid: CC6847B2-23FB-4EDE-9F7E-EF29DD46A5C5
author: asb3993
ms.author: amburns
ms.date: 03/22/2017
ms.openlocfilehash: 85e4e98cfbc96936c19642a200885b54cf745aa4
ms.sourcegitcommit: 6be6374664cd96a7d924c2e0c37aeec4adf8be13
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/13/2018
ms.locfileid: "51617510"
---
# <a name="localization"></a>當地語系化

本指南將介紹的基本概念*國際化*並*當地語系化*以及有關如何產生使用這些概念的 Xamarin 行動應用程式的連結。

如果您想要直接跳到當地語系化的 Xamarin 應用程式的技術詳細資料，開始使用這些平台專屬的使用說明文章的其中一個：

- [**Xamarin.Forms** ](~/xamarin-forms/app-fundamentals/localization/index.md)跨平台使用 RESX 檔案的當地語系化。
- [**Xamarin.iOS** ](~/ios/app-fundamentals/localization/index.md)原生平台當地語系化。
- [**Xamarin.Android** ](~/android/app-fundamentals/localization.md)原生平台當地語系化。

## <a name="i18n-and-l10n"></a>i18n 和 L10n

*國際化*是程序可確保您的程式碼可以顯示不同的語言與調整它的顯示畫面，針對不同的地區設定 （例如數字和日期格式設定）。 這也稱為*全球化*。

*當地語系化*是遵循 – 建立每種語言的資源 （例如字串和影像），並將它們繫結與 internationalize 應用程式的步驟。

國際化它通常簡稱為 i18n – 18 之間"i"和"n 名"的字母的縮寫。 L10n – 10 個字母"L"和"n"之間，同樣地會縮短當地語系化。

## <a name="overview"></a>總覽

本文件介紹國際化和當地語系化，以及如何它們套用到行動應用程式開發通常與相關聯的概念。
設計和建置應用程式時，項目時，您可能先前有硬式編碼，但其必須當地語系化包括參數化：

-   畫面版面配置和文字，
-   圖示、 圖形和色彩
-   視訊和音效檔，
-   動態的文字和文字格式 （例如數字、 貨幣和日期），
 - 從右至左 (RTL) 語言的版面配置變更和
-   排序的資料。

不論哪一個行動平台，您的應用程式為目標的祕訣可協助您建置高品質的當地語系化應用程式。


## <a name="design-considerations"></a>設計考量

架構應用程式，使其能夠將其內容當地語系化稱為國際化。 正常執行國際化多個不同的語言只允許在執行階段載入字串 – 設計良好的應用程式應該允許的所有資源，以變更根據語言和地區設定 （包括影像、 音效和影片），而且可以調整格式與版面配置，以應付不同大小的字串。

本章節討論建置國際化的應用程式時，會納入考量的一些設計考量。

### <a name="layouts-and-string-length"></a>版面配置和字串長度

中文和日文的字串可能會很短，有時一個或兩個的字元可以是有足夠的意義，輸入的欄位標籤。

德文的字串 （例如） 可以是很長，有時在英文中的相對較短字會變成以其他語言 – 裁剪或其他非預期地重新配置可能變得很長。

比較的字串長度在英文、 德文和日文的 iOS 主畫面上的一些項目：

[![](localization-images/language-compare-sml.png "德文與日文的字串長度")](localization-images/language-compare.png#lightbox)

請注意，**設定**英文 （8 個字元） 為德文的轉譯，但在日文中的只有 2 個字元需要 13 個字元。

顯示標籤和輸入的欄位會並排顯示的版面配置很難使用當標籤長度可以大幅變更。 通常會顯示標籤欄位上方的版面配置是當地語系化，因為整個螢幕的寬度是適用於標籤和輸入的工作變得更容易。

一般而言，如果您要建置固定的配置 （尤其是並排顯示的項目） 可以讓至少 50%的更多的寬度，您的英文字串比所需標籤和文字。 這並不能解決所有問題，但會提供一個緩衝區，將在許多情況下運作。

### <a name="input-validation"></a>輸入的驗證

撰寫驗證規則時，要注意的假設。 可能不按照有效需要輸入至 「 需要 」 在英文中，至少三個字元，因為單一字母很少會有任何意義的文字欄位。 中文和日文版但單一字元可能是有效的輸入，並驗證訊息 「 至少 3 個字元是必要的 「 不合理的這些語言。

其他看似簡單的工作像是驗證電子郵件地址或網站 URL 會變得更複雜的字元並不限於 ASCII 的子集。

撰寫您的驗證規則，國際化記住 – 使用選擇的最不嚴格的規則，或使其以不同方式可針對每種語言撰寫的邏輯。

### <a name="images-and-color"></a>影像和色彩

並非每個映像必須變更根據使用者的語言。 許多圖示或相片將不適用於所有使用者，無關緊要溝通何種語言。
不過，當地語系化的一些資源意義例如：

 - 映像描述人員或特定位置 – 您的應用程式可能會覺得與使用者更有相關性如果它會顯示本機人員/位置。
 - 圖示 – 某些遙控器可以是特定文化特性，您可以讓您的應用程式容易使用當地語系化的圖像以反映本機的了解。
 - 色彩 – 某些文化特性了解色彩以不同的方式 – red 可能表示在一個區域，但在另一個祝您好運警告。 設計您的應用程式，以判斷是否您應該建置一個機制，當地語系化的色彩時，請洽詢原生的喇叭。


### <a name="videos-and-sound"></a>視訊和音效

視訊和音效存在的特殊挑戰當地語系化應用程式，因為雖然相當容易取得翻譯的字串，記錄多個 voiceover 會追蹤時或視訊剪輯可能成本高昂且困難。

視訊和音訊檔案的多個複本 （尤其是如果您會將當地語系化成大量的語言，或有多個媒體檔案），可能也會大幅增加您的應用程式的大小。 您可以考慮下載所需的語言資產之後，使用者安裝您的應用程式，但這也可能導致不良的使用者經驗變慢的網路上。

通常有多種方式可以解決當地語系化問題 – 最重要的事是將它們視為預付並確保您的應用程式設計來處理它們。


### <a name="dates-times-numbers-and-currency"></a>日期、 時間、 數字和貨幣

如果您使用.NET 格式化函式，請記得在指定的文化特性，以便小數分隔符號正確剖析 （並避免轉換所擲回的例外狀況）。 例如 1.99 和 1,99 是有效的十進位表示法，視您的地區設定而定。

當資料來自已知來源 (亦即。 從自己的程式碼或您可以控制 web 服務) 可以硬式編碼格式設定，例如 InvariantCulture 這將適用於標準英文語言格式符合文化特性識別項。

```csharp
double.Parse("1,999.99", CultureInfo.InvariantCulture);
```

如果應用程式使用者正在輸入的資料，剖析使用 CultureInfo 執行個體，以反映其地區設定：

```csharp
double.Parse("1 999,99", CultureInfo.CreateSpecificCulture("fr-FR"));
```

請參閱[剖析數值字串](http://msdn.microsoft.com/library/xbtzcc4w(v=vs.110).aspx)並[剖析的日期和時間字串](http://msdn.microsoft.com/library/2h3syy57(v=vs.110).aspx)MSDN 文章中的其他資訊。

<a name="rtl" />

### <a name="right-to-left-rtl-languages"></a>從右至左 (RTL) 語言

某些語言中的，阿拉伯文、 希伯來文等烏都文 （舉例來說），會由右至左讀取。
支援這些語言的應用程式應使用由右至左的讀取器，例如調整的畫面設計：

 - 文字應該靠右對齊。
 - 標籤會顯示輸入欄位的右邊。
 - 預設按鈕的位置通常會反轉。
 - 階層式導覽撥動和動畫 （和其他瀏覽隱喻和動畫），使用的內容也要反轉的方向。

IOS 和 Android 支援由右至左配置和字型轉譯，使用內建的功能，可協助進行上述的調整。 Xamarin.Forms 自動目前不支援從右至左呈現。

### <a name="sorting"></a>排序

不同的語言以不同的方式，定義其字母的排序次序，即使它們使用相同的字元集。

請參閱[詳細資料的字串比較](http://msdn.microsoft.com/library/dd465121(v=vs.110).aspx#the_details_of_string_comparison)中[在.NET Framework 中使用字串的最佳作法](http://msdn.microsoft.com/library/dd465121(v=vs.110).aspx)如需範例，其中的語言 (CultureInfo) 會影響排序次序。

不可能在行動裝置平台上的內建的資料庫功能將會支援特定語言的排序順序，因此您可能需要在您的商務邏輯中實作額外的程式碼。

### <a name="text-search"></a>文字搜尋

請確定在撰寫並測試您的搜尋演算法，與多個語言記住。 要考量的事項包括：

 - 自動完成 – 如果您已建立的自動完成函式，以確保它在來源與使用者的語言相關的建議。
 - 資料 – 比對的查詢會搜尋輸入中特定的查詢語言可執行針對只以該語言撰寫的內容，或針對您的應用程式中的所有內容嗎？
 - 詞幹分析 – 如果搜尋相似字組、 字組根目錄與其他搜尋最佳化，建置您的搜尋，則會針對您支援的所有語言建置這些最佳化？
 - 排序-請確定結果排序錯誤 （如上所述）。


### <a name="data-from-external-sources"></a>從外部來源的資料

許多應用程式從外部來源，從 Twitter 下載資料和 RSS 摘要至天氣、 新聞或股票的價格。 當正在這顯示給使用者，您必須考量，您將會顯示螢幕中的不相關或無法讀取的資訊給他們的可能性。

有幾個可用來嘗試並確保您的應用程式會顯示與使用者相關資料的策略：

 - 不同的來源 – 您的應用程式可能會根據使用者的語言或地區設定不同的來源下載資料。 地區設定新聞、 天氣和股票價格合理的多個比項目下載從北美的摘要。
 - 當地語系化的顯示 – 如果您要顯示 Twitter 或相片摘要時，您應該會顯示的中繼資料 （例如所花費的時間） 在他或她自己的語言中，即使本身的內容會保留在原始的語言。
 - 轉譯 – 您可以執行機器翻譯，內送資料的應用程式到建置轉譯選項。 這可自動或使用者可自行 – 務必通知使用者，如果這正在進行中，因為機器翻譯永遠不會是完美 ！

這也可能會影響外部連結的音訊資料軌或影片，設計您的應用程式務必預先規劃來源時轉譯內容，或確保，使用者會適當地通知使用者介面時的內容不會提供在其語言。


### <a name="dont-over-translate"></a>不要過度轉譯

應用程式中的某些字串可能不需要轉譯，或至少需要特別注意轉譯器所。 範例可能包括：

 - Url – 如果您列出的 URL，它可能會或可能不需要透過語言來進行調整。 比方說，facebook.com 不需要它會自動偵測在主要站台的語言的翻譯。 其他站台都有特定地區設定的內容，您可能想要提供不同的 URL，例如與 yahoo.fr 或 yahoo.it yahoo.com。
 - 電話號碼 – 特別是具有不同的國家/地區代碼或使用特定語言的呼叫端的數字。
 - 連絡人詳細資料 – 地址和其他資訊可能會因語言或地區設定而定。
 - 商標和產品名稱 – 某些字串不需要轉譯，因為它們一定會寫入相同的語言。

最後，請務必包含轉譯程式的詳細的指示，如果某些字串需要特殊處理。


### <a name="formatted-text"></a>格式化文字

通常不使用行動應用程式問題因為字串通常不包含豐富的格式化。 不過如果需要在您的應用程式的 rich text 格式 （例如粗體或斜體格式），則確定轉譯程式知道如何為輸入的格式，字串檔案它能正確地儲存它的格式正確才會顯示給使用者 (亦即。 不小心不要讓格式化程式碼本身會向使用者顯示）。



## <a name="translation-tips"></a>轉譯的秘訣

應用程式所使用的字串翻譯會被視為當地語系化程序的一部分。 通常這項工作將外包給翻譯服務，並由多國語言可能不知道您的應用程式或您公司的人員。

下列秘訣有助於產生較容易正確轉譯，並因而改善您當地語系化的應用程式的品質的字串。



### <a name="localize-complete-strings-not-words"></a>完整的字串，不是文字當地語系化

有時候開發人員將嘗試指定單一字或句子 '程式碼片段'，以便它們可以在應用程式，重複使用它們的方法。 例如，文字 「 您有 5 則訊息。 」 它們可能會指定下列字串翻譯

**不正確**:

```csharp
"You have"
"no"
"message"
"messages"
```

然後再嘗試使用字串串連的程式碼建立正確的語句上即時：

**不正確**:

```csharp
"You have" + " " + numMsgs + " " + "messages"
"You have" + " no " + "messages"
```

**這種作法漏洞百出**因為它不一定可用於所有語言，並將很難了解每個短的區段的內容轉譯器。 它也會導致重複使用的已翻譯的字串，可能會造成問題稍後如果它們用在不同的內容 （和更新然後）。


### <a name="allow-for-parameter-re-ordering"></a>允許參數重新排序

有些程式語言需要額外的語法在字串中，指定參數的順序，但.NET 已經支援的概念已編號的預留位置，因此

**良好**:

```csharp
"a {0} b {1} cde {3}"
```

可能是轉譯的下列 （其中的位置和預留位置的順序會變更）

```csharp
"{2} {3} f g h {0}"
```

和語彙基元會排序為預期的轉譯器。 請務必要包含的每個預留位置內容為何將字串傳送至轉譯器時的說明。


### <a name="use-multiple-strings-for-cardinality"></a>使用多個字串的基數

避免字串，例如`"You have {0} message/s."`使用每個狀態的特定字串提供較佳使用者體驗：

**良好**:

```csharp
"You have no messages."
"You have 1 messages."
"You have 2 messages."
"You have {0} messages."
```

您必須撰寫程式碼中您的應用程式，來評估所顯示的號碼，然後選擇適當的字串。 某些平台 （包括 iOS 和 Android） 有內建的功能，可自動選擇最佳的複數字串，根據目前的語言/地區設定的喜好設定。


### <a name="allowing-for-gender"></a>允許的性別

拉丁語言有時會使用不同的單字，根據主體的性別。 如果您的應用程式知道性別，您應該允許以反映這個翻譯的字串。

另外還有更明顯的情況下甚至在英文中，其中參考特定人員或應用程式使用者的字串。 比方說，有些網站顯示訊息讓`"Bob commented on his post"`因此您需要男性、 女性，及非二進位或未知的性別的字串：

**良好**:

```csharp
"{0} commented on his post"
"{0} commented on her post"
"{0} commented on their post"
```

### <a name="dont-reuse-strings"></a>不要重複使用的字串

或更精確地說，不要重複使用字串只因為它們很相似，當字串本身有不同的用途或意義。

例如： 假設您有在您的應用程式中的 on/off 開關和切換控制需求的文字 'on' 和 'off' 當地語系化。 您也顯示該設定的值在其他地方的文字標籤中的應用程式。 您應該與交換器的狀態 （即使它們是在您的預設語言相同的字串） – 切換顯示使用不同的字串，例如所示：

-   [開啟] – 顯示在參數本身
-   「 關閉 」 – 顯示在參數本身
-   [開啟] – 顯示在 [標籤]
-   「 關閉 」 – 在標籤中顯示

這會提供最大的彈性的轉譯器：

-   基於設計的理由，可能是參數本身會使用小寫 「 開啟 」 和 「 關閉 」，但顯示的標籤 「 開啟 」 和 「 關閉 」，請使用大寫。
-   有些語言可能需要以縮寫成符合使用者介面控制項，同時完整單字 （轉譯） 可以出現在標籤中的參數值。
-   或者，對於某些語言呈現您可能是交換器的"I"及"O"用於文化特性的熟悉度，但您仍可能想要讀取 「 開啟 」 或 「 關閉 」 的標籤。

### <a name="translation-services"></a>轉譯服務

#### <a name="machine-translation"></a>機器翻譯

若要建置您的應用程式轉譯功能，請考慮[Azure Translator Text API](https://azure.microsoft.com/services/cognitive-services/translator-text-api/)。

基於測試目的您可以納入您的應用程式中的某些當地語系化的文字，在開發期間使用許多線上翻譯工具之一：

- [Bing 翻譯](https://www.bing.com/translator/)
- [Google 轉譯](http://translate.google.com/)

有許多其他可用。 機器翻譯的品質通常不被視為好到發行的應用程式沒有先檢閱並經過專業的轉譯程式或原生的喇叭。

#### <a name="professional-translation"></a>專業的翻譯

也有會接受您的字串，並將它們散發給他們自己的轉譯器，您提供完成的翻譯，付費的專業轉譯服務。

聞名服務的其中一個是[評](http://www.lionbridge.com/)。 大部分專業人員的服務支援所有常見檔案類型包括字串、 XML、 RESX 和 POT/PO。


## <a name="summary"></a>總結

本文介紹的一些概念，您應該先熟悉之前國際化應用程式，然後將當地語系化您的資源，並也涵蓋如何變更每個平台的語言喜好設定。

這些概念可以套用至使用 Xamarin 的各種特定平台和跨平台的國際化技術。

繼續閱讀您感興趣的平台的技術詳細資料：

- [Xamarin.Forms](~/xamarin-forms/app-fundamentals/localization/index.md)跨平台使用 RESX 檔案的當地語系化。
- [Xamarin.iOS](~/ios/app-fundamentals/localization/index.md)原生平台當地語系化。
- [Xamarin.Android](~/android/app-fundamentals/localization.md)原生平台當地語系化。



## <a name="related-links"></a>相關連結

- [Apple 的當地語系化概觀](https://developer.apple.com/internationalization/)
- [Android 的當地語系化檢查清單](http://developer.android.com/distribute/tools/localization-checklist.html)
- [開發世界性的應用程式 (MSDN) 的最佳作法](http://msdn.microsoft.com/library/w7x1y988%28v=vs.90%29.aspx)

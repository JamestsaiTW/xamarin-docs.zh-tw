---
title: 第 6 部分 - 測試和 App Store 核准
description: 本文件說明如何測試的跨平台應用程式的裝置、 管理測試案例、 自動化測試、 執行單元測試和應用程式提交程序進行。
ms.prod: xamarin
ms.assetid: 46E0578A-7EB9-C105-ABB0-A043E501F36B
author: asb3993
ms.author: amburns
ms.date: 03/23/2017
ms.openlocfilehash: 0faf7c9e4ff7c96cdfd25ab6d6658726ef247b32
ms.sourcegitcommit: 4b402d1c508fa84e4fc3171a6e43b811323948fc
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/23/2019
ms.locfileid: "61275403"
---
# <a name="part-6---testing-and-app-store-approvals"></a>第 6 部分 - 測試和 App Store 核准

## <a name="testing"></a>測試

許多應用程式 （甚至是 Android 應用程式，在某些存放區） 必須先通過核准程序，會在發行前;因此測試是確保關鍵應用程式達到市場 （更別說與您的客戶成功）。 測試可能會花許多形式，從開發人員層級的單元測試，管理 beta 測試各種不同的硬體。

### <a name="test-on-all-platforms"></a>在所有平台上進行測試

有些許差異.NET 支援在 Windows 電話、 平板電腦及桌面裝置，以及防止產生快速動態程式碼的 iOS 上的限制。 請規劃測試多個平台上的程式碼，為您開發，或排程重構的時間，然後更新您的應用程式，在專案結尾處的模型部分。

最好一律要使用模擬器/模擬器來測試多個版本的作業系統以及不同的裝置功能設定。

您也應該測試您可以任意數量的不同的實體硬體裝置。

#### <a name="devices-in-cloud"></a>在雲端中的裝置

行動電話和平板電腦生態系統總是不斷增加，使其無法在不斷增加的數目可用的裝置上進行測試。 若要解決此問題，許多服務提供的功能，讓應用程式可以安裝並測試而不需要投資大量硬體，直接從遠端控制許多不同的裝置。

[App Center 測試](https://docs.microsoft.com/appcenter/test-cloud/preparing-for-upload/uitest)提供簡單的方式，來測試 iOS 和 Android 的應用程式的數百個不同的裝置上。

### <a name="test-management"></a>測試管理

在測試您的組織或管理與外部使用者的測試版程式內的應用程式時，有兩個挑戰：

- **發佈**– 管理佈建的程序 （特別是針對 iOS 裝置） 以及更新的版本的軟體測試人員。
- **意見反應**– 蒐集上可能會發生任何錯誤的應用程式使用量的相關資訊和詳細的資訊。


有許多的服務說明，若要解決這些問題，藉由提供內建於您的應用程式來收集和使用方式和錯誤報告的基礎結構，並也簡化佈建程序，以協助註冊和管理測試人員與他們的裝置.

[Visual Studio App Center](/appcenter/)提供這些問題，提供測試版本散發、 損毀報告，以及複雜的應用程式使用量資訊的解決方案。

### <a name="test-automation"></a>測試自動化

Xamarin [UITest](https://docs.microsoft.com/appcenter/test-cloud/preparing-for-upload/uitest)可用來建立自動的使用者介面測試指令碼可以在本機執行或上傳至[App Center 測試](https://docs.microsoft.com/appcenter/test-cloud/)。

## <a name="unit-testing"></a>單元測試

### <a name="touchunit"></a>Touch.Unit

Xamarin.iOS 包含單元測試架構，稱為 Touch.Unit 哪一種撰寫測試的 JUnit/NUnit 樣式。

請參閱我們[Unit Testing 搭配 Xamarin.iOS](~/ios/deploy-test/touch.unit.md)如需有關撰寫測試和執行 Touch.Unit 的文件。

### <a name="andrunit"></a>Andr.Unit

沒有適用於 Android 呼叫 Andr.Unit Touch.Unit 對開放原始碼等項目。 您可以下載從[github](https://github.com/spouliot/Andr.Unit)閱讀有關工具[@spouliot的部落格](http://spouliot.wordpress.com/2011/10/30/andr-unit-joins-the-family/)。

## <a name="app-store-approvals"></a>App Store 核准

Apple 與 Microsoft 操作其平台的唯一存放區： App Store 和 Marketplace 分別。 同時鎖定其裝置，並實作嚴格的應用程式的檢閱程序，來控制可供下載的應用程式的品質。 Android 的開放本質可讓您表示有多個存放區選項，範圍從 Google Play，廣泛使用，且其 Android 和枃鐎灚的工作，例如 Samsung 應用程式有更多限制發佈的 Amazon Appstore 沒有檢閱程序，和實作的核准程序。

等候檢閱應用程式可以是來說負擔很沉重-商業壓力通常表示應用程式與 「 目標 」 的啟動日期之前的錯誤很少界提交核准。 程序本身可能需要長達兩週，而且不一定是透明： 前，會有有限的意見反應的進度，您的應用程式的最後拒絕或已核准。 拒絕可以表示遺失的機會; 的行銷視窗，特別是如果發生超過一次，並傳遞原始的啟動日期之間的週，最後核准應用程式時。

### <a name="be-prepared"></a>做好準備

建議的第一項： 事前規劃您的應用程式啟動，並進行可能拒絕和重新提交的容許程度。 每個存放區會要求您提交您的應用程式之前先建立帳戶-儘早執行這項操作。
Google Play 註冊只需要幾分鐘的時間，如果您的應用程式是免費，而如果您有銷售，而且需要提供銀行和稅務資訊的程序取得更多相關。 Apple 與 Microsoft 的處理程序會同時比 Google 的更複雜，可能需要一週或更多問題來取得核准帳戶因此納入這次您啟動方案。

一旦核准您的帳戶後，您即可提交應用程式。 下列文件涵蓋送出應用程式的實際程序：

- [發行至 Apple iOS App Store](~/ios/deploy-test/app-distribution/app-store-distribution/publishing-to-the-app-store.md)
- [Google Play 的準備的應用程式](~/android/deploy-test/publishing/publishing-to-google-play/index.md)
- Windows 開發人員應該造訪[Windows 開發人員中心](https://developer.microsoft.com/windows/windows-apps)若要了解提交自己的應用程式。

本節的其餘部分將討論您應將納入考量，以確保您的應用程式獲得核准而不需要任何營運的項目。

### <a name="quality"></a>品質

聽起來很明顯，但應用程式會經常被拒絕，因為它們不符合特定層級的品質： 畢竟，這是為什麼策劃的存放區必須執行核准程序一開始的原因 ！

當機是拒絕的常見原因。 如果是很容易就能讓您的應用程式損毀，並具有保證會遭到拒絕。 大部分的開發人員不提交自己的應用程式，並預期情況下，它們會當機，但其作法往往。 徹底測試您的應用程式，才能將其提交出去，不只是在確定一切運作正常而且您也可以處理常見的行動裝置的錯誤狀況，例如網路問題和資源條件約束，例如記憶體或儲存空間。 若要測試使用的模擬器 」 和 「 實體裝置-不論程度的程式碼會在模擬器中執行，只有裝置可以示範應用程式的實際效能。 使用多個不同的裝置，您可以尋找並登錄的 beta 版測試人員小組，如果您可以-協力廠商服務可以協助您管理 beta 版散發套件和意見反應。

所有行動裝置的作業系統將會終止無法夠快速啟動的應用程式。 允許的時間長度會有所不同，但一般應用程式的目標應該是能在幾秒內回應，並使用背景工作來執行任何需要較長的工作。 應用程式花太長的時間載入或未回應度要足夠中一般用途是將會遭到拒絕。 項目發生在背景中，或已當機，並拒絕同樣地，會出現應用程式時，一律可以提供使用者意見反應。

### <a name="check-your-edge-cases"></a>請檢查您的邊緣案例

常見的設陷，適用於開發人員無法位址邊緣案例，特別是那些需要重新設定使用者的模擬器或裝置來測試正確。 它可以很容易忘了，不是每個客戶將會 「 允許 」 您的應用程式，因為開發人員已接受要求一次之後，將永遠不會提示他們再次存取它們的位置。 權限和網路使用量會特別方面，在核准程序，這表示在這些區域中的小型監督可能會導致拒絕期間。

下列清單是不錯的起點來檢查可能已漏掉的邊緣案例：

- **客戶可能 '拒絕' 服務的存取權**– 特別是在 iOS 中，存取資料，例如地理位置資訊僅提供使用者授與您的應用程式的權限。 應用程式測試人員通常應該重新安裝它的初始狀態中的應用程式，而不允許任何權限要求，以確保應用程式的行為適當。 在切換權限，並關閉，以確認正確的行為，如客戶改變心意。
- **客戶是每個地方**– 請勿假設應用程式只使用中的城市或國家/地區，它開發 ！ 適用於 GPS 座標、 日期和時間值和貨幣的程式碼可以全部受到客戶的位置和地區設定。 所有平台優惠可讓您指定不同的位置和地區設定-模擬器會使用它來測試位置，以其他部分地區並未實施和不同日期和貨幣格式的文化特性。 緯度和經度值可以是正數或負數、 句號或逗號，可能是小數分隔符號和可格式化日期無數種方式-處理它 ！
- **緩慢的網路連線**– 應用程式開發人員通常在 '理想的世界中' 的快速，一定要使用的網路連線，這顯然無法在真實世界案例中運作。 測試具有低速網路連線 （例如 3g 連線不佳），以及沒有網路存取的是確保您不寄送的不良的應用程式的關鍵。 核准程序將會一律使用飛航模式中的裝置包括測試，因此請確定您已自行測試的。
- **硬體而異**– 請務必在您打算支援的最早、 最慢的硬體上進行測試。 有可能會影響您的應用程式的兩個層面： 可能無法在較舊的裝置，以及支援的硬體功能，例如網路攝影機、 麥克風、 GPS、 陀螺儀或其他選擇性元件的效能。 應用程式應該會降低依正常程序 （和不損毀） 當元件無法使用時。

### <a name="guidelines-are-more-than-just-a-guide"></a>指導方針會不只是 「 指南 」

Apple 是 laguna 要嚴格遵循其人性化介面指導方針的相關，因為其平台的主要優點之一是一致性 （和可用性的認知的增加）。 Microsoft 已與 Windows 應用程式實作的 Metro 樣式 UI 類似的方法。 這兩個平台的核准程序會牽涉到正在評估以進行相關的設計原理符合您的應用程式。

我並不是說，使用者介面的創新不受支援或建議，但有某些"就不應該這麼做 」 的項目或您的應用程式將會遭到拒絕。

在 iOS 上，這包括濫用內建的圖示，或使用其他完善確立的隱喻以非一致的方式;針對建立新的內容以外的任何項目，例如使用 '撰寫' 圖示。

Windows 開發人員應該要同樣地小心;常見的錯誤無法正確支援硬體 「 上一頁按鈕，根據 Microsoft 的指導方針。

建議您閱讀並遵循每個平台的設計指導方針的設計工具。

### <a name="implementing-platform-specific-features"></a>實作特定平台功能

實作特定平台服務，特別是在 iOS 上時，項目是有點更嚴格。 若要避免自動-拒絕由 Apple，有一些規則，以遵循下列的 iOS 功能：

- **在應用程式內購買**– 應用程式必須實作數位產品，包括遊戲中的貨幣、 應用程式功能、 雜誌訂用帳戶和更多的外部付款機制。 iOS 應用程式必須使用受 Apple iTunes 為基礎的服務針對這類型的功能。 漏洞-例如 Kindle 讀取器和某些訂用帳戶為基礎的應用程式可讓您購買其他位置的內容會附加到 「 帳戶 」 然後您可以透過應用程式存取的應用程式，但是在此情況下應用程式必須包含連結或參考應用程式外購買程序 （或者同樣地，它將會遭到拒絕）。
- **iCloud 備份**– 隨著 iCloud、 Apple 的檢閱者是更嚴格有關應用程式 （以確保客戶的遠端備份的體驗是愉快） 所使用的儲存體。 應用程式，可能會取得拒絕浪費可備份的儲存空間，因此會使用快取資料夾正確，並遵循 Apple 的其他儲存體相關的指導方針。
- **Newsstand** – 報紙與雜誌的應用程式為適合 Apple Newsstand，不過，應用程式必須實作至少一個自動續約訂用帳戶和支援的幕後下載核准。
- **對應**– 通常會逐漸將重疊影像和其他功能新增至行動裝置的對應，不過要小心未遮蔽地圖 '信用額度' 資訊 （例如 Google 中的標誌 iOS5） 因為這樣會導致拒絕。

### <a name="manage-your-metadata"></a>管理您的中繼資料

除了明顯技術問題，可能會導致拒絕應用程式，仍有一些您可能會導致拒絕，尤其是有關的中繼資料 （描述、 關鍵字及行銷的映像），您的提交的一些更微妙層面提交您的應用程式，App Store 或 Marketplace 中的顯示。

- **圖像**– 遵循平台的應用程式圖示的指導方針，並儲存圖片。 請勿使用商標的映像，我們已了解應用程式取得拒絕，因為它們的圖示精選 iPhone 的繪圖 ！
- **商標**– 請避免使用任何非您自己的商標。 應用程式已被拒絕提及商標，在 應用程式描述，或甚至在 Apple App Store 上的關鍵字。
- **描述**– 請勿使用 'beta' 這個字，或以任何方式表示應用程式不是已經準備亮相。 （即使您的應用程式是跨平台），則未提到其他行動平台。 最重要的是，請確定應用程式未完全您說什麼的話。 如果您在描述中列出一大堆功能，它必須更是明顯如何使用這些功能的每個，或您會收到 「 未實作應用程式的描述中所述的功能 」 的拒絕。

Put 至應用程式的中繼資料最多精力，到開發和測試。 所以值得花時間取得正確的中繼資料中的次要 infringements 取得拒絕應用程式。

### <a name="app-stores-not-for-everyone"></a>應用程式存放區：不適合每個人

每個平台上的存放區的主要焦點是取用者發佈-能夠盡可能接觸許多的客戶。 不過，並非所有應用程式為目標取用者，在沒有快速成長的需要有限的散發給員工，供應商或客戶的內部和外部網路類似的應用程式基底。 這些應用程式不在 「 銷售 」，而且不需要核准，因為開發人員控制項發佈給已關閉的一群使用者。
這種部署類型的支援會因平台而異。

Android 在這方面提供最大的彈性: （只要裝置的設定可讓它），可以直接從 URL 或電子郵件附件安裝應用程式。 這表示建立及散發內部的公司應用程式或發佈給特定客戶或供應商的應用程式輕而易舉的事。

Apple 註冊 iOS Developer Enterprise Program，這會略過應用程式市集的核准程序，並讓公司以散發給員工的內部應用程式中的開發人員提供的內部部署選項。
不幸的是此授權不會處理其他已關閉的群組，為客戶或供應商外部網路類似的應用程式散發的需求。 [Enterprise （和臨機操作） 部署](~/ios/deploy-test/app-distribution/ipa-support.md)

### <a name="app-store-summary"></a>應用程式市集摘要

檢閱程序可能會令人怯步，但就像在開發生命週期的其他您可以協助確保成功經過一些規劃和注意細節。 所有這涉及到幾個簡單步驟： 閱讀並了解您必須遵守，遵循的規則，如果您要實作平台專屬功能，徹底測試 (依 測試多) 與最後確認您的應用程式中繼資料的使用者介面指導方針正確，再提交。

一個的最後一個字的 Google Play 上發行的開發人員的建議： 核准程序缺乏可能看起來像是讓您的工作更為容易-，但您的客戶將會比檢閱小組的更多要求。 雖然您的應用程式可能被拒絕，否則它會是您的客戶執行拒絕依照這些指導方針。

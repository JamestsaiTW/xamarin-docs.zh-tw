---
title: 第 6-測試和應用程式市集核准
ms.prod: xamarin
ms.assetid: 46E0578A-7EB9-C105-ABB0-A043E501F36B
ms.technology: xamarin-cross-platform
author: asb3993
ms.author: amburns
ms.date: 03/23/2017
ms.openlocfilehash: 67f61da09861fac6f45faf80efde40302c05bfed
ms.sourcegitcommit: f52aa66de4d07bc00931ac8af791d4c33ee1ea04
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/19/2018
---
# <a name="part-6---testing-and-app-store-approvals"></a>第 6-測試和應用程式市集核准

## <a name="testing"></a>測試

許多應用程式 （即使 Android 應用程式，在某些存放區） 必須先通過核准程序，會在發行之前。讓測試，請務必確定您的應用程式達到市場 （徒您與客戶成功）。 測試可能需要許多形式，從開發人員層級的單元測試，管理測試跨各種不同的硬體。

### <a name="test-on-all-platforms"></a>在所有平台上進行測試

有之間.NET 支援 Windows 電話、 平板電腦及桌上型裝置，以及限制防止即時產生動態程式碼的 iOS 上有些微差異。 請規劃在測試程式碼在多個平台上的，當您開發，或排定要重構的時間，並更新您的應用程式，在專案結尾處的模型部分。

它一律是很好的作法是將模擬器/模擬器測試多個版本的作業系統以及不同的裝置功能/組態。

您也應該為許多不同的實體硬體裝置，您可以執行測試。

#### <a name="devices-in-cloud"></a>在雲端中的裝置

行動電話和平板電腦生態系統成長所有的時間，讓您難以不斷增加的數目可用的裝置上測試。 若要解決此問題對一些服務提供的能力，讓應用程式可以安裝並測試而不需要投資大量硬體，直接從遠端控制許多不同的裝置。

[應用程式中心測試](https://docs.microsoft.com/appcenter/test-cloud/preparing-for-upload/uitest)提供簡單的方式來測試 iOS 和 Android 的應用程式在數百個不同的裝置上。

### <a name="test-management"></a>測試管理

在測試您的組織，或使用外部使用者管理測試計劃中的應用程式時，有兩個挑戰：

- **發佈**– 管理佈建程序 （特別是針對 iOS 裝置），並取得更新的版本的軟體測試人員。
- **意見反應**– 收集應用程式使用量的相關資訊和詳細的資訊，可能會發生任何錯誤。


有一些服務可協助解決這些問題，可藉由提供基礎結構內建於您的應用程式來收集和報告使用量和錯誤，也可簡化程序，協助註冊和管理軟體測試人員和裝置佈建程序.

[Visual Studio 應用程式中心](/appcenter/)提供這些問題，提供測試版發佈、 當機報告，以及複雜的應用程式使用資訊的解決方案。

### <a name="test-automation"></a>測試自動化

Xamarin [UITest](https://docs.microsoft.com/appcenter/test-cloud/preparing-for-upload/uitest)可用來建立自動化的使用者介面測試指令碼可以在本機執行或上傳至[應用程式中心測試](https://docs.microsoft.com/appcenter/test-cloud/)。

## <a name="unit-testing"></a>單元測試

### <a name="touchunit"></a>Touch.Unit

Xamarin.iOS 包含單元測試架構，稱為 Touch.Unit 哪一種撰寫測試的 JUnit/NUnit 樣式。

請參閱我們[Xamarin.iOS 使用單元測試](~/ios/deploy-test/touch.unit.md)撰寫測試，並在執行 Touch.Unit 詳細資料的文件。

### <a name="andrunit"></a>Andr.Unit

沒有適用於 Android 呼叫 Andr.Unit Touch.Unit 開放原始碼對等項目。 您可以下載從[github](https://github.com/spouliot/Andr.Unit)閱讀有關工具和[@spouliot的部落格](http://spouliot.wordpress.com/2011/10/30/andr-unit-joins-the-family/)。

## <a name="app-store-approvals"></a>應用程式市集核准

Apple 和 Microsoft 運作在平台上的唯一存放區： 應用程式存放區及 Marketplace 分別。 同時鎖定其裝置並實作嚴格的應用程式的檢閱程序，以控制可供下載的應用程式的品質。 Android 的開啟特性即意味著數目範圍從 Google Play，這是可廣泛使用且不擁有任何檢閱程序，以 Android 和枃鐎灚努力像 Samsung 應用程式更具有有限的發佈的 Amazon Appstore 存放區選項與實作核准程序。

等候要檢閱應用程式可以是非常壓力-商務壓力通常表示應用程式會使用 「 目標 」 的啟動日期之前的錯誤很少邊界提交核准。 處理序本身可能需要多達兩週，而不一定是透明： 前，會有有限的意見反應應用程式的進度最後拒絕或已核准。 拒絕可以表示遺漏行銷視窗的機會，特別是當發生一次以上，且原始的啟動日期之間的週數傳遞，而且最後核准應用程式時。

### <a name="be-prepared"></a>準備

建議的第一段： 預先規劃您的應用程式啟動並且額度可能拒絕和重新提交。 每個存放區會要求您將建立帳戶，然後再提交您的應用程式-請儘早執行這項操作。
Google Play 註冊只需要幾分鐘，如果您的應用程式可用，而處理程序取得更多的作業涉及如果您銷售，而且需要提供銀行與稅務資訊。 Apple 和 Microsoft 的程序會同時比 Google 更為複雜，可能需要一週或多個要核准您的帳戶，因此這個時間分解到啟動計畫。

一旦核准您的帳戶後，您可以在提交應用程式。 送出應用程式的實際程序包含下列文件中：

- [Apple ios App Store 中發行](~/ios/deploy-test/app-distribution/app-store-distribution/publishing-to-the-app-store.md)
- [準備 Google Play 應用程式](~/android/deploy-test/publishing/publishing-to-google-play/index.md)
- Windows 開發人員應該造訪[Windows 開發人員中心](https://developer.microsoft.com/en-us/windows/windows-apps)若要閱讀有關送出自己的應用程式。

本節的其餘部分將討論您應該以確保沒有任何網際網路核准您的應用程式納入考量的事項。

### <a name="quality"></a>品質

聽起來很明顯，但因為不符合特定層級的品質通常取得拒絕應用程式： 在所有情況下，這就是為什麼策劃存放區必須核准程序在第一次原因 ！

損毀所拒絕的一個常見原因。 如果您很容易就能讓您的應用程式損毀，它具有保證會遭到拒絕。 大部分的開發人員沒有提交自己的應用程式，它們會當機，但通常的期望。 送出，焦點不只對進行確定運作一切正常而且您也可以處理常見的行動裝置的錯誤狀況，例如網路問題以及資源限制，例如記憶體或儲存空間之前，請徹底測試您的應用程式。 使用模擬器和實體裝置來測試-不論程度模擬器中執行程式碼，只有裝置可以示範應用程式的實際效能。 使用許多不同裝置，因為您可以尋找，或登錄測試版測試人員的小組，如果您可以第三方服務幫助您管理 beta 發佈和意見反應。

所有行動裝置的作業系統將會終止無法夠快速啟動應用程式。 允許的時間長度會有所差異，但一般應用程式的目標應該在幾秒內回應，並使用背景工作會執行任何需要較長的工作。 應用程式的長的時間才能載入或沒有回應足以在一般情況下使用將會遭到拒絕。 一定要在背景中發生的項目，或已當機，並拒絕同樣地，會出現應用程式時提供使用者意見反應。

### <a name="check-your-edge-cases"></a>請檢查您的邊緣案例

開發人員的一般設陷無法位址的邊緣案例，尤其是需要重新設定其模擬器或裝置到正確的測試。 可能很容易會忘記並非每個客戶將 「 允許 」 而您的應用程式存取它們的位置，因為開發人員已接受要求一次之後，它們將永遠不會提示您一次。 權限和網路使用量會特別 focussed 上核准程序，這表示在這些區域中的小型監督可能會導致拒絕期間。

下列清單是很好的起點檢查可能已漏掉的邊緣案例：

- **客戶可能 '拒絕' 服務的存取權**– iOS，尤其是在存取資料，例如使用者授與您的應用程式的權限，只會提供地理位置資訊。 應用程式測試人員經常應該重新安裝應用程式在其初始狀態，而不允許任何權限要求，以確保應用程式的行為是否適當。 上切換權限，並關閉，以確認正確的行為，如客戶變更其主意。
- **客戶是每個地方**– 請勿假設只將縣市或國家/地區當初開發中使用應用程式 ！ 適用於 GPS 座標、 日期和時間值和貨幣的程式碼可以所有受到客戶的位置和地區設定。 所有平台提供可讓您指定不同的位置和地區設定-模擬器會使用它來測試其他半球上，並以不同方式格式化日期和貨幣的文化特性使用的位置。 緯度和經度值可以是正數或負數、 句號或逗號，可能是小數分隔符號和無數可格式化日期的方式-處理它 ！
- **低速網路連線**– 應用程式開發人員通常會在 '理想' 的快速，一律使用顯然不在真實世界案例的網路連線。 測試具有低速網路連線 （例如 3g 連線不佳） 也會與沒有網路存取，請務必確保您不寄送不良的應用程式。 核准程序將會永遠包含在測試與飛航模式中的裝置，因此請確定您已自行測試。
- **硬體而有所不同**– 請記得在您打算支援的最舊的最慢硬體上進行測試。 有可能會影響您的應用程式的兩個層面： 效能，可能會在無法使用較舊的裝置與硬體功能，例如網路攝影機、 麥克風、 GPS、 迴轉儀或其他選擇性元件的支援。 應用程式應該會降低依正常程序 （和未損毀） 元件時無法使用。

### <a name="guidelines-are-more-than-just-a-guide"></a>指導方針會不只是 '指引'

Apple 是現在所嚴格其人性化介面指導方針，請遵循有關其平台的索引鍵強度的其中一個一致性 （和可用性的認知的增加）。 Microsoft 已實作 Metro 樣式 UI 的 Windows 應用程式以取得類似的方法。 兩個平台的核准程序將會牽涉到正在評估以進行其相關的設計原理，請遵循您的應用程式。

此方法不說出的使用者介面創新不支援或建議，但有某些您 「 就不應該執行 」 的項目或您的應用程式將會遭到拒絕。

在 iOS 上，這包括濫用內建的圖示，或使用其他堅實的象徵物非一致的方式;建立新的內容以外的任何項目，例如使用 '撰寫' 的圖示。

Windows 開發人員應該類似小心;常見的錯誤無法正確支援的硬體上一步按鈕根據 Microsoft 的指導方針。

建議您設計工具來閱讀並遵循每個平台的設計指導方針。

### <a name="implementing-platform-specific-features"></a>實作特定平台功能

實作特定平台服務，特別是在 iOS 上時事情就會稍有更嚴格。 若要避免由 Apple 的自動拒絕，有一些規則，以遵循下列 iOS 功能：

- **應用程式內購買**– 應用程式必須實作外部付款數位產品包括遊戲中的貨幣、 應用程式功能、 雜誌訂用帳戶和更多的機制。 iOS 應用程式必須使用這類功能的 Apple iTunes 基礎服務。 有漏洞-像 Kindle 讀取器和某些訂用帳戶為基礎的應用程式可讓您購買其他地方的內容取得附加至 「 帳戶 」 然後您可以透過應用程式存取的應用程式，不過在此情況下應用程式必須包含連結，或參考應用程式超出購買程序 （或者同樣地，它會將遭到拒絕）。
- **iCloud 備份**– icloud 的功能提供了，Apple 的檢閱者是更嚴格有關應用程式 （以確保客戶的遠端備份體驗是愉快） 所使用的儲存體。 應用程式，可能會取得拒絕廢棄物可備份的儲存空間，因此快取資料夾可以適當地利用，並依照 Apple 的其他儲存體相關的指導方針。
- **Newsstand** – 報紙與雜誌應用程式為 Apple Newsstand 絕佳適合不過，應用程式必須至少一個自動更新訂用帳戶及支援背景下載核准的實作。
- **對應**– 它是將重疊影像和其他功能加入至行動裝置的對應，不過要特別小心不妨礙地圖 '點數' 資訊 （例如 iOS5 Google 標誌） 因為這樣會導致拒絕變得愈來愈普遍。

### <a name="manage-your-metadata"></a>管理您的中繼資料

除了可能會導致應用程式被拒絕的明顯技術問題，有一些更難捉摸層面可能會導致拒絕，尤其是關於中繼資料 （描述、 關鍵字和行銷的映像），您在提交提交您的應用程式的應用程式存放區或 Marketplace 內顯示。

- **圖像**-請遵循應用程式圖示的平台指導方針，並儲存圖片。 不使用商標的映像，我們已看到應用程式取得拒絕，因為它們的圖示精選的 iPhone 繪圖 ！
- **商標**– 請避免使用任何非自己的商標。 應用程式已被拒絕的一提集團中的應用程式的描述，或甚至 Apple App Store 上的關鍵字。
- **描述**– 請勿使用 default 字 'beta' 或以任何方式表示應用程式尚未準備進行質數時間。 （即使您的應用程式是跨平台），請勿提及其他行動裝置平台。 最重要的是，請確定應用程式未完全您說什麼的話。 如果您在描述中列出一堆功能，它有更是明顯如何使用這項功能的每個，或您會取得 「 未實作在應用程式的描述中所述的功能 」 的拒絕。

讓至應用程式的中繼資料到開發和測試。 因此您很值得花時間取得正確的中繼資料中的次要 infringements 取得拒絕應用程式。

### <a name="app-stores-not-for-everyone"></a>應用程式市集： 不適用於所有人

每個平台上的存放區的主要焦點在於取用者發佈-能夠達到儘可能多的客戶。 不過，並非所有應用程式為目標的取用者，在沒有快速成長的情況需要限量員工、 供應商或客戶的內部和外部網路類似的應用程式的基底。 這些應用程式不在 「 銷售 」，而且不需要核准，因為開發人員控制項發佈給使用者群組已關閉。
這種部署類型的支援因平台。

Android 在這方面提供最大的彈性: （只要裝置的組態可讓它），應用程式可以直接從 URL 或電子郵件附件安裝。 這表示它是一般建立及發佈自製的公司應用程式或應用程式發行至特定客戶或供應商。

Apple 開發人員註冊 iOS Developer Enterprise Program，這會略過應用程式市集核准程序，並讓公司將散發給員工的內部應用程式中提供的內部部署選項。
不幸的是此授權無法解決需要類似外部網路的應用程式發佈到其他已關閉的群組的客戶或供應商。 [Enterprise （和臨機操作） 部署](~/ios/deploy-test/app-distribution/ipa-support.md)

### <a name="app-store-summary"></a>應用程式存放區摘要

檢閱程序令人怯，但就像其他開發生命週期就有助於確保順利執行的一些規劃和注意細節。 所有這時候您就要一些簡單的步驟： 閱讀並了解您必須遵守，遵循的規則，如果您實作特定平台功能，，請徹底測試 （然後測試一些） 與最後確認您的應用程式中繼資料的使用者介面指導方針您提交之前，會是正確的。

一個最後一個字的建議，以開發人員在 Google Play 上發佈： 缺乏核准程序可能看起來像是它會使您的工作更容易的但您的客戶將會比檢閱小組的更多要求。 雖然您的應用程式可以取得被拒絕，否則它會需要您的客戶進行拒絕依照這些指導方針。
